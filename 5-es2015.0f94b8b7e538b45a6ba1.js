(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(t,n,e){"use strict";e.r(n),e.d(n,"AuthModule",function(){return f});var i=e("ofXK"),o=e("3Pt+"),s=e("tyNb"),c=e("PCNd"),r=e("fXoL");let a=(()=>{class t{constructor(){this.close=new r.n}onClose(){this.close.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{close:"close"},decls:7,vars:1,consts:[[1,"backdrop",3,"click"],[1,"alert-box"],[1,"alert-box-actions"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(r.Mb(0,"div",0),r.Tb("click",function(){return n.onClose()}),r.Lb(),r.Mb(1,"div",1),r.Mb(2,"p"),r.kc(3),r.Lb(),r.Mb(4,"div",2),r.Mb(5,"button",3),r.Tb("click",function(){return n.onClose()}),r.kc(6,"CLose"),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.zb(3),r.lc(n.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.5);z-index:100}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30vh;left:30vw;width:40vw;padding:50px;z-index:200;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.2 5);border-radius:10px}.alert-box-actions[_ngcontent-%COMP%]{text-align:right}"]}),t})(),l=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(r.P))},t.\u0275dir=r.Eb({type:t,selectors:[["","appPlaceholder",""]]}),t})();var b=e("qXBG");let d=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-loading-spinner"]],decls:4,vars:0,consts:[[1,"lds-facebook"]],template:function(t,n){1&t&&(r.Mb(0,"div",0),r.Kb(1,"div"),r.Kb(2,"div"),r.Kb(3,"div"),r.Lb())},styles:[".lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background:#828282;-webkit-animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{left:8px;-webkit-animation-delay:-.24s;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;-webkit-animation-delay:-.12s;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;-webkit-animation-delay:0;animation-delay:0}@-webkit-keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),t})();function p(t,n){}function u(t,n){1&t&&(r.Mb(0,"div",5),r.Kb(1,"app-loading-spinner"),r.Lb())}function g(t,n){if(1&t){const t=r.Nb();r.Mb(0,"form",6,7),r.Tb("ngSubmit",function(){r.gc(t);const n=r.dc(1);return r.Vb().onSubmit(n)}),r.Mb(2,"div",8),r.Mb(3,"h3"),r.kc(4),r.Lb(),r.Mb(5,"button",9),r.Tb("click",function(){return r.gc(t),r.Vb().onSwitchMode()}),r.kc(6),r.Lb(),r.Lb(),r.Mb(7,"div",10),r.Mb(8,"label",11),r.kc(9,"E-Mail"),r.Lb(),r.Kb(10,"input",12),r.Lb(),r.Mb(11,"div",10),r.Mb(12,"label",13),r.kc(13,"Password"),r.Lb(),r.Kb(14,"input",14),r.Lb(),r.Mb(15,"div",8),r.Mb(16,"button",15),r.kc(17),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.dc(1),n=r.Vb();r.zb(4),r.lc(n.isLoginMode?"Login":"Sign Up"),r.zb(2),r.mc(" Switch to ",n.isLoginMode?"Sign Up":"Login"," "),r.zb(10),r.Yb("disabled",t.invalid),r.zb(1),r.mc(" ",n.isLoginMode?"Login":"Sign Up"," ")}}let h=(()=>{class t{constructor(t,n,e){this.authService=t,this.router=n,this.componentFactoryResolver=e,this.isLoginMode=!0,this.isLoading=!1,this.error=null}onSwitchMode(){this.isLoginMode=!this.isLoginMode,this.error=null}onSubmit(t){if(t.invalid)return;const n=t.value.email,e=t.value.password;let i;this.isLoading=!0,this.error=null,i=this.isLoginMode?this.authService.logIn(n,e):this.authService.signUp(n,e),i.subscribe(t=>{console.log(t),this.isLoading=!1,this.router.navigate(["/recipes"])},t=>{console.log(t),this.error=t,this.showErrorAlert(t),this.isLoading=!1}),t.reset()}onHandleError(){this.error=null}ngOnDestroy(){this.closeSub&&this.closeSub.unsubscribe()}showErrorAlert(t){const n=this.componentFactoryResolver.resolveComponentFactory(a),e=this.alertHost.viewContainerRef;e.clear();const i=e.createComponent(n);i.instance.message=t,this.closeSub=i.instance.close.subscribe(()=>{this.closeSub.unsubscribe(),e.clear()})}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(b.a),r.Jb(s.c),r.Jb(r.j))},t.\u0275cmp=r.Db({type:t,selectors:[["app-auth"]],viewQuery:function(t,n){if(1&t&&r.oc(l,1),2&t){let t;r.cc(t=r.Ub())&&(n.alertHost=t.first)}},decls:5,vars:2,consts:[["appPlaceholder",""],[1,"container"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["style","text-align : center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-inline"],["type","button",1,"btn","btn-success",3,"click"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,n){1&t&&(r.jc(0,p,0,0,"ng-template",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.jc(3,u,2,0,"div",3),r.jc(4,g,18,4,"form",4),r.Lb(),r.Lb()),2&t&&(r.zb(3),r.Yb("ngIf",n.isLoading),r.zb(1),r.Yb("ngIf",!n.isLoading))},directives:[l,i.j,d,o.u,o.m,o.n,o.a,o.l,o.o,o.s,o.b,o.k],styles:["h3[_ngcontent-%COMP%]{display:inline-block}button[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-right:5px}"]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[i.c,o.j,s.f.forChild([{path:"",component:h}]),c.a]]}),t})()}}]);